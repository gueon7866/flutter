<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ê¸°ìˆ™ì‚¬ ëŒ€ì‹œë³´ë“œ (HTML ë¯¸ë¦¬ë³´ê¸°)</title>

  <!-- Google Fonts & Material Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;700;800&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">

  <style>
    :root{
      /* AppColors ë§¤í•‘ */
      --primary:#2C3E50;       /* textPrimary/navy */
      --accent:#4A69E2;        /* íŒŒë‘ í¬ì¸íŠ¸ */
      --success:#27AE60;       /* ì´ˆë¡ */
      --warning:#F2994A;       /* ì£¼í™© */
      --danger:#E74C3C;        /* ë¹¨ê°• */
      --neutral:#828282;       /* ì¤‘ë¦½ íšŒìƒ‰ */
      --bg:#F8F9FA;            /* í˜ì´ì§€ ë°°ê²½ */
      --card:#ffffff;          /* ì¹´ë“œ ë°°ê²½ */
      --textPrimary:#2C3E50;
      --textSecondary:#828282;
      --radius:18px;
      --shadow:0 5px 15px rgba(0,0,0,.06);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Pretendard, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", Arial, "Apple Color Emoji","Segoe UI Emoji";
      background:var(--bg);
      color:var(--textPrimary);
    }

    .container{
      max-width:1200px;
      margin:40px auto;
      padding:0 24px;
    }

    /* í—¤ë” */
    .header{
      display:flex; gap:12px; align-items:center; justify-content:space-between;
    }
    .hello{
      display:flex; align-items:center; gap:8px;
      font-weight:800; font-size:28px; color:var(--textPrimary);
    }
    .btn{
      display:inline-flex; align-items:center; gap:8px;
      background:var(--accent); color:#fff; border:0; padding:14px 20px;
      border-radius:12px; font-weight:700; cursor:pointer;
      box-shadow:0 4px 10px rgba(74,105,226,.25);
    }
    .btn .mi{font-size:20px}

    /* ë ˆì´ì•„ì›ƒ ë‘ ì»¬ëŸ¼ */
    .grid{
      display:grid; grid-template-columns: 1.5fr 3.5fr; gap:24px; margin-top:24px;
    }
    @media (max-width: 980px){
      .grid{grid-template-columns:1fr}
    }

    /* ì¹´ë“œ ê³µí†µ */
    .card{
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:24px;
    }

    /* í”„ë¡œí•„ ì¹´ë“œ */
    .avatar{
      width:80px;height:80px;border-radius:50%;
      background: color-mix(in srgb, var(--accent) 10%, transparent);
      display:grid; place-items:center; margin:0 auto 12px;
    }
    .avatar .mi{color:var(--accent); font-size:42px}
    .center{text-align:center}
    .chip{
      display:inline-flex; align-items:center; gap:6px;
      background: color-mix(in srgb, var(--accent) 12%, transparent);
      color:var(--accent); font-weight:700; padding:6px 10px; border-radius:10px; margin:10px 0 6px;
    }
    .muted{color:var(--textSecondary)}
    .divider{height:1px; background:#ececec; margin:20px 0}

    /* ìƒ/ë²Œì  */
    .section-title{display:flex; align-items:center; gap:10px; font-weight:800; font-size:20px}
    .row{display:flex; align-items:center}
    .space{flex:1}
    .stat-line{display:flex; align-items:center; gap:12px; margin-top:8px}
    .progress{
      width:100%; height:8px; background: color-mix(in srgb, var(--accent) 20%, transparent);
      border-radius:4px; overflow:hidden;
    }
    .progress > span{
      display:block; height:100%; background:var(--accent); width:0%;
      transition:width .6s ease;
    }

    /* ì„ì‹ ì¹´ë“œ */
    .status-pill{
      font-weight:800; color:var(--success);
    }
    .status-accent{color:var(--accent)}
    .status-success{color:var(--success)}
    .status-danger{color:var(--danger)}

    /* 3ë¶„í•  ìƒíƒœ ì¹´ë“œ */
    .grid-3{
      display:grid; grid-template-columns:repeat(3, 1fr); gap:16px;
    }
    @media (max-width:720px){
      .grid-3{grid-template-columns:1fr}
    }
    .mini-card{padding:20px}

    /* íƒ­ */
    .tabs{
      background:var(--bg);
      border-radius:14px; padding:0 8px; display:flex; gap:4px;
    }
    .tab-btn{
      flex:1; border:0; background:transparent; padding:14px 10px; cursor:pointer;
      color:var(--textSecondary); font-weight:800; border-bottom:3px solid transparent; display:flex; gap:8px; justify-content:center;
    }
    .tab-btn.active{color:var(--accent); border-bottom-color:var(--accent)}
    .tabview{height:250px; overflow:auto; padding:20px 6px 0}
    .detail-item{display:flex; align-items:center; gap:16px; padding:10px 0}
    .detail-label{width:120px; color:var(--textSecondary); font-weight:800}
    .mi{font-family:'Material Icons Round'; font-style:normal; font-weight:normal; line-height:1; letter-spacing:normal; text-transform:none; display:inline-block; white-space:nowrap; word-wrap:normal; direction:ltr}

    /* ëŒ€í™”í˜• ë‹¤ì´ì–¼ë¡œê·¸ */
    .modal-backdrop{
      position:fixed; inset:0; background:rgba(0,0,0,.3); display:none; place-items:center; padding:20px; z-index:50;
    }
    .modal{background:var(--card); border-radius:20px; width:min(500px, 92vw); max-height:90vh; overflow:auto; padding:24px 24px 20px; box-shadow:var(--shadow)}
    .modal .icon-wrap{
      width:72px; height:72px; border-radius:50%; display:grid; place-items:center; margin:0 auto 18px;
      background: color-mix(in srgb, var(--success) 10%, transparent);
      color:var(--success);
    }
    .modal h3{margin:0 0 10px; text-align:center}
    .modal .msg{color:var(--textSecondary); text-align:center; line-height:1.6}
    .modal .actions{margin-top:22px}
    .w-100{width:100%}
  </style>
</head>
<body>
  <div class="container">

    <!-- í—¤ë” -->
    <div class="header">
      <div class="hello">
        <span>ì•ˆë…•í•˜ì„¸ìš”, <span id="studentNameHeader">í•™ìƒ</span>ë‹˜!</span>
        <span style="font-size:26px">ğŸ‘‹</span>
      </div>

      <button class="btn" id="rollcallBtn">
        <span class="mi">check_circle</span>
        ì í˜¸ í™•ì¸
      </button>
    </div>

    <!-- 2ì»¬ëŸ¼ -->
    <div class="grid">

      <!-- ì¢Œì¸¡: í”„ë¡œí•„/ìƒë²Œì /ì„ì‹ -->
      <div class="left">
        <!-- í”„ë¡œí•„ ì¹´ë“œ -->
        <div class="card center" id="profileCard">
          <div class="avatar"><span class="mi">person</span></div>
          <div style="font-weight:800; font-size:20px" id="studentName">ë°ì´í„° ì—†ìŒ</div>
          <div class="muted" style="font-size:14px">í•™ë²ˆ: <span id="studentId">-</span></div>

          <div class="chip">
            <span class="mi" style="font-size:18px">school</span>
            <span id="department">í•™ê³¼ ì •ë³´ ì—†ìŒ</span>
          </div>
          <div class="muted" id="dormInfo" style="font-size:15px">í˜¸ì‹¤ ì •ë³´ ì—†ìŒ</div>

          <div class="divider"></div>

          <div class="left-align">
            <div style="text-align:left; font-weight:800; margin-bottom:12px">ë£¸ë©”ì´íŠ¸</div>
            <div style="display:flex; gap:10px; align-items:center; color:var(--textSecondary)">
              <span class="mi" style="font-size:22px">groups</span>
              <div style="text-align:left">
                <div style="font-weight:700; color:var(--textPrimary)" id="roommate">ë°ì´í„° ì—†ìŒ</div>
                <div class="muted" style="font-size:12px" id="roommateDept">í•™ê³¼ ì •ë³´ ì—†ìŒ</div>
              </div>
            </div>
          </div>
        </div>

        <!-- ìƒ/ë²Œì  ì¹´ë“œ -->
        <div class="card" style="margin-top:24px">
          <div class="section-title">
            <span class="mi">leaderboard</span> ìƒ/ë²Œì  í˜„í™©
          </div>

          <!-- ìƒì  -->
          <div style="margin-top:20px">
            <div class="row" style="align-items:center; gap:12px">
              <span class="mi" style="color:var(--accent)">emoji_events</span>
              <span class="muted" style="font-weight:600">ìƒì </span>
              <span class="space"></span>
              <span id="plusScore" style="font-weight:800; color:var(--accent)">0ì </span>
            </div>
            <div class="progress" style="margin-top:8px" aria-label="ìƒì  ì§„í–‰ë°”">
              <span id="plusBar" style="width:0%"></span>
            </div>
          </div>

          <!-- ë²Œì  -->
          <div style="margin-top:24px">
            <div class="row" style="align-items:center; gap:12px">
              <span class="mi" style="color:var(--danger)">warning_amber</span>
              <span class="muted" style="font-weight:600">ë²Œì </span>
              <span class="space"></span>
              <span id="minusScore" style="font-weight:800; color:var(--danger)">0ì </span>
            </div>
          </div>
        </div>

        <!-- ì„ì‹ ì‹ ì²­ í˜„í™© -->
        <a href="#!" id="dinnerLink" style="text-decoration:none">
          <div class="card" style="margin-top:24px; display:flex; align-items:center; gap:16px">
            <span id="dinnerIcon" class="mi" style="font-size:28px; color:var(--success)">check_circle</span>
            <div class="space" style="font-weight:800; font-size:18px" id="dinnerTitle">5ì›” ì„ì‹</div>
            <div id="dinnerStatus" class="status-pill status-success">ì‹ ì²­ ì™„ë£Œ</div>
          </div>
        </a>
      </div>

      <!-- ìš°ì¸¡: ì™¸ë°•/AÂ·S/ìƒì„¸ì •ë³´ -->
      <div class="right">
        <!-- ì™¸ë°• -->
        <div class="card">
          <div class="row" style="align-items:center; gap:8px">
            <span class="mi" style="color:var(--accent)">calendar_month</span>
            <div style="font-weight:800; font-size:20px">ì™¸ë°• ì‹ ì²­ í˜„í™©</div>
            <span class="space"></span>
            <div class="muted" style="font-weight:800">ì´ <span id="outingTotal">0</span>ê±´</div>
          </div>

          <div class="grid-3" style="margin-top:16px">
            <div class="card mini-card center">
              <div class="muted" style="font-size:14px; font-weight:600">ìŠ¹ì¸</div>
              <div class="stat-line" style="justify-content:center; margin-top:12px">
                <span class="mi" style="color:var(--success)">check_circle</span>
                <div style="font-size:22px; color:var(--success); font-weight:800">
                  <span id="outingApproved">0</span>ê±´
                </div>
              </div>
            </div>

            <div class="card mini-card center">
              <div class="muted" style="font-size:14px; font-weight:600">ëŒ€ê¸°</div>
              <div class="stat-line" style="justify-content:center; margin-top:12px">
                <span class="mi" style="color:var(--accent)">hourglass_empty</span>
                <div style="font-size:22px; color:var(--accent); font-weight:800">
                  <span id="outingPending">0</span>ê±´
                </div>
              </div>
            </div>

            <div class="card mini-card center">
              <div class="muted" style="font-size:14px; font-weight:600">ë°˜ë ¤</div>
              <div class="stat-line" style="justify-content:center; margin-top:12px">
                <span class="mi" style="color:var(--danger)">cancel</span>
                <div style="font-size:22px; color:var(--danger); font-weight:800">
                  <span id="outingRejected">0</span>ê±´
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- A/S -->
        <div class="card" style="margin-top:24px">
          <div class="row" style="align-items:center; gap:8px">
            <span class="mi" style="color:var(--warning)">build_circle</span>
            <div style="font-weight:800; font-size:20px">A/S ì‹ ì²­ í˜„í™©</div>
            <span class="space"></span>
            <div class="muted" style="font-weight:800">ì´ <span id="asTotal">0</span>ê±´</div>
          </div>

          <div class="grid-3" style="margin-top:16px">
            <div class="card mini-card center">
              <div class="muted" style="font-size:14px; font-weight:600">ì‹ ì²­ì™„ë£Œ</div>
              <div class="stat-line" style="justify-content:center; margin-top:12px">
                <span class="mi" style="color:var(--neutral)">note_alt</span>
                <div style="font-size:22px; color:var(--neutral); font-weight:800">
                  <span id="asRequested">0</span>ê±´
                </div>
              </div>
            </div>

            <div class="card mini-card center">
              <div class="muted" style="font-size:14px; font-weight:600">ìˆ˜ë¦¬ì¤‘</div>
              <div class="stat-line" style="justify-content:center; margin-top:12px">
                <span class="mi" style="color:var(--accent)">construction</span>
                <div style="font-size:22px; color:var(--accent); font-weight:800">
                  <span id="asInProgress">0</span>ê±´
                </div>
              </div>
            </div>

            <div class="card mini-card center">
              <div class="muted" style="font-size:14px; font-weight:600">ìˆ˜ë¦¬ì™„ë£Œ</div>
              <div class="stat-line" style="justify-content:center; margin-top:12px">
                <span class="mi" style="color:var(--success)">task_alt</span>
                <div style="font-size:22px; color:var(--success); font-weight:800">
                  <span id="asCompleted">0</span>ê±´
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- í•™ìƒ ìƒì„¸ì •ë³´ (íƒ­) -->
        <div class="card" style="margin-top:24px">
          <div class="tabs">
            <button class="tab-btn active" data-tab="tab-basic">
              <span class="mi">person_pin</span> ê¸°ë³¸ ì •ë³´
            </button>
            <button class="tab-btn" data-tab="tab-contact">
              <span class="mi">contact_phone</span> ì—°ë½ì²˜/í™˜ë¶ˆ ì •ë³´
            </button>
          </div>

          <div class="tabview">
            <!-- tab content -->
            <div id="tab-basic">
              <div class="detail-item">
                <span class="mi muted">badge</span>
                <div class="detail-label">ì„±ëª…</div>
                <div id="d_name">ë°ì´í„° ì—†ìŒ</div>
              </div>
              <div class="detail-item">
                <span class="mi muted">school</span>
                <div class="detail-label">í•™ê³¼</div>
                <div id="d_dept">ë°ì´í„° ì—†ìŒ</div>
              </div>
              <div class="detail-item">
                <span class="mi muted">home_work</span>
                <div class="detail-label">ê¸°ìˆ™ì‚¬</div>
                <div id="d_dorm">-</div>
              </div>
              <div class="detail-item">
                <span class="mi muted">meeting_room</span>
                <div class="detail-label">í˜¸ì‹¤</div>
                <div id="d_room">-</div>
              </div>
              <div class="detail-item">
                <span class="mi muted">smoking_rooms</span>
                <div class="detail-label">í¡ì—°ì—¬ë¶€</div>
                <div id="d_smoke">-</div>
              </div>
            </div>

            <div id="tab-contact" style="display:none">
              <div class="detail-item">
                <span class="mi muted">phone_iphone</span>
                <div class="detail-label">ì—°ë½ì²˜</div>
                <div id="d_phone">-</div>
              </div>
              <div class="detail-item">
                <span class="mi muted">family_restroom</span>
                <div class="detail-label">ë³´í˜¸ì ì—°ë½ì²˜</div>
                <div id="d_parPhone">-</div>
              </div>
              <div class="detail-item">
                <span class="mi muted">account_balance</span>
                <div class="detail-label">í™˜ë¶ˆ ì€í–‰</div>
                <div id="d_bank">-</div>
              </div>
              <div class="detail-item">
                <span class="mi muted">payment</span>
                <div class="detail-label">ê³„ì¢Œë²ˆí˜¸</div>
                <div id="d_acc">-</div>
              </div>
              <div class="detail-item">
                <span class="mi muted">person_search</span>
                <div class="detail-label">ì˜ˆê¸ˆì£¼</div>
                <div id="d_holder">-</div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- ëª¨ë‹¬ -->
  <div class="modal-backdrop" id="modal">
    <div class="modal">
      <div class="icon-wrap"><span class="mi">check_circle</span></div>
      <h3 id="modalTitle">ì í˜¸ ì™„ë£Œ ğŸ‰</h3>
      <div class="msg" id="modalMsg">ì í˜¸ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!<br>ê±´ë¬¼: ë³¸ê´€<br>ê±°ë¦¬: 0.02km<br>ì‹œê°„: 21:03</div>
      <div class="actions">
        <button class="btn w-100" id="modalClose"><span class="mi">done</span>í™•ì¸</button>
      </div>
    </div>
  </div>

  <script>
    // ======= ë°ëª¨ë¥¼ ìœ„í•œ ê°€ì§œ ë°ì´í„° (Flutter Provider/HTTP ì‘ë‹µ ëŒ€ì²´) =======
    const data = {
      student:{
        name: "í™ê¸¸ë™",
        studentId: "20250001",
        department: "ê°„í˜¸í•™ê³¼",
        roomNum: "3-412",
        roommate: "ê¹€ë¯¼ì„œ",
        roommateDept: "ê°„í˜¸í•™ê³¼",
        phoneNum: "010-1234-5678",
        parPhone: "010-8888-9999",
        paybackBank: "êµ­ë¯¼",
        paybackNum: "123456-01-789012",
        paybackName: "í™ê¸¸ë™",
        smoking: "ë¹„í¡ì—°"
      },
      points:{ plus: 37, minus: 4 },
      overnight:{ total: 7, approved: 5, pending: 1, rejected: 1 },
      as:{ total: 3, requested: 1, inProgress: 1, completed: 1 },
      dinner:{ status:"completed" } // notApplied | pending | completed
    };

    // ======= ì´ˆê¸° ë Œë”ë§ =======
    function qs(sel){return document.querySelector(sel)}

    // ì´ë¦„/í—¤ë”
    qs('#studentNameHeader').textContent = data.student.name;
    qs('#studentName').textContent = data.student.name;
    qs('#studentId').textContent = data.student.studentId ?? '-';
    qs('#department').textContent = data.student.department ?? 'í•™ê³¼ ì •ë³´ ì—†ìŒ';

    // í˜¸ì‹¤/ë™
    const room = data.student.roomNum;
    const dormInfo = room ? `${room[0]}ë™ ${room}` : 'í˜¸ì‹¤ ì •ë³´ ì—†ìŒ';
    qs('#dormInfo').textContent = dormInfo;

    // ë£¸ë©”
    qs('#roommate').textContent = data.student.roommate ?? 'ë°ì´í„° ì—†ìŒ';
    qs('#roommateDept').textContent = data.student.roommateDept ?? 'í•™ê³¼ ì •ë³´ ì—†ìŒ';

    // ìƒ/ë²Œì 
    qs('#plusScore').textContent = `${data.points.plus}ì `;
    qs('#minusScore').textContent = `${data.points.minus}ì `;
    const percent = Math.max(0, Math.min(1, data.points.plus / 100));
    requestAnimationFrame(()=>{ qs('#plusBar').style.width = (percent*100) + '%' });

    // ì™¸ë°•
    qs('#outingTotal').textContent = data.overnight.total;
    qs('#outingApproved').textContent = data.overnight.approved;
    qs('#outingPending').textContent = data.overnight.pending;
    qs('#outingRejected').textContent = data.overnight.rejected;

    // A/S
    qs('#asTotal').textContent = data.as.total;
    qs('#asRequested').textContent = data.as.requested;
    qs('#asInProgress').textContent = data.as.inProgress;
    qs('#asCompleted').textContent = data.as.completed;

    // íƒ­
    const tabs = document.querySelectorAll('.tab-btn');
    tabs.forEach(btn=>{
      btn.addEventListener('click', ()=>{
        tabs.forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        document.querySelectorAll('#tab-basic,#tab-contact').forEach(el=>el.style.display='none');
        document.getElementById(btn.dataset.tab).style.display='block';
      })
    });

    // ìƒì„¸ ì •ë³´ ë Œë”
    qs('#d_name').textContent = data.student.name ?? 'ë°ì´í„° ì—†ìŒ';
    qs('#d_dept').textContent = data.student.department ?? 'ë°ì´í„° ì—†ìŒ';
    qs('#d_dorm').textContent = room ? `${room[0]}ë™` : '-';
    qs('#d_room').textContent = room ?? '-';
    qs('#d_smoke').textContent = data.student.smoking ?? '-';
    qs('#d_phone').textContent = data.student.phoneNum ?? '-';
    qs('#d_parPhone').textContent = data.student.parPhone ?? '-';
    qs('#d_bank').textContent = data.student.paybackBank ?? '-';
    qs('#d_acc').textContent = data.student.paybackNum ?? '-';
    qs('#d_holder').textContent = data.student.paybackName ?? '-';

    // ì„ì‹ ìƒíƒœ
    const now = new Date();
    const nextMonth = now.getMonth()+2; // ì‚¬ëŒ ì¹œí™”ì  í‘œê¸°
    qs('#dinnerTitle').textContent = `${nextMonth}ì›” ì„ì‹`;

    const dinnerIcon = qs('#dinnerIcon');
    const dinnerStatus = qs('#dinnerStatus');

    const setDinner = (state)=>{
      dinnerStatus.classList.remove('status-success','status-accent','status-danger');
      if(state==='completed'){
        dinnerIcon.textContent='check_circle';
        dinnerIcon.style.color='var(--success)';
        dinnerStatus.textContent='ì‹ ì²­ ì™„ë£Œ';
        dinnerStatus.classList.add('status-success');
        qs('#dinnerLink').onclick = null;
      }else if(state==='pending'){
        dinnerIcon.textContent='hourglass_empty';
        dinnerIcon.style.color='var(--success)';
        dinnerStatus.textContent='ì‹ ì²­ ìƒíƒœ';
        dinnerStatus.classList.add('status-success');
        qs('#dinnerLink').onclick = e=>{ e.preventDefault(); alert('ê²°ì œ í™•ì¸ ëŒ€ê¸°ì¤‘ì…ë‹ˆë‹¤.'); };
      }else{ // notApplied
        dinnerIcon.textContent='edit_calendar';
        dinnerIcon.style.color='var(--accent)';
        dinnerStatus.textContent='ì‹ ì²­ ê°€ëŠ¥';
        dinnerStatus.classList.add('status-accent');
        qs('#dinnerLink').onclick = e=>{
          e.preventDefault();
          alert('ì„ì‹ ì‹ ì²­ í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤ê³  ê°€ì •!');
        };
      }
    };
    setDinner(data.dinner.status);

    // ì í˜¸ ëª¨ë‹¬(ë°ëª¨)
    const modal = qs('#modal');
    qs('#rollcallBtn').addEventListener('click', ()=>{
      qs('#modalTitle').textContent = 'ì í˜¸ ì™„ë£Œ ğŸ‰';
      qs('#modalMsg').innerHTML = 'ì í˜¸ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!<br>ê±´ë¬¼: ê¸°ìˆ™ì‚¬ Aë™<br>ê±°ë¦¬: 0.03km<br>ì‹œê°„: ' + new Date().toTimeString().slice(0,5);
      modal.style.display='grid';
    });
    qs('#modalClose').addEventListener('click', ()=> modal.style.display='none');
    modal.addEventListener('click', (e)=>{ if(e.target===modal) modal.style.display='none'; });
  </script>
</body>
</html>
